import { IExpress, ExpressState, ExpressProcess, ExpressInfo, SignTemplate, QueryParam, ExpressCompanyCode } from '../express';
import { WebhookBody } from 'trackingmore';
import { Observable } from 'rxjs';
export declare class TmHandler<O extends {
    apiKey: string;
} = {
    apiKey: string;
}> extends IExpress<WebhookBody, O> {
    protected diy_map: ExpressCompanyCode[];
    protected _put: (param: ExpressInfo<WebhookBody>) => Observable<ExpressInfo<WebhookBody>>;
    protected expire: number;
    protected checkList: {
        type: 'white' | 'black' | 'none';
        codes: string[];
    };
    private tm;
    protected _init?: () => Observable<any>;
    name: string;
    weight: number;
    protected rate: number;
    protected max_count: number;
    protected getState: (data: WebhookBody) => ExpressState;
    protected getProcess: (data: WebhookBody) => ExpressProcess[];
    protected fetch: (param: ExpressInfo<WebhookBody>) => Observable<WebhookBody>;
    private info2body;
    protected signTemplates: SignTemplate[];
    protected getParamByResponse: (source: WebhookBody) => QueryParam;
    protected initCode: () => Observable<ExpressCompanyCode[]>;
}
